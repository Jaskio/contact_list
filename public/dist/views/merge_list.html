<div 
    ng-if = "CC.mergeListVisible"
    ng-repeat = "(key, contact) in CC.merge_list">
    <div ng-click = "CC.showForm(contact)">
        {{ contact[0].first_name }} {{ contact[0].last_name }}
    </div>
</div>



<div ng-if = "CC.mergeFormVisible">
    <br>
    <div>Merge options for contact:</div>
    <div>
        <h3>{{ CC.merged_contact[0].first_name }} {{ CC.merged_contact[0].last_name }}</h3>
        <div>
            <div>
                Address:
            </div>
            <select
                ng-model = "CC.form_data.address">
                <option selected value = "">Select address</option>
                <option ng-repeat = "address in CC.merged_contact" value = "{{address.address}}">
                    {{address.address }}
                </option>
            </select>
            {{ CC.form_data.address }}
        </div>
        <div>
            <div>
                Postal code:
            </div>
            <select
                ng-model = "CC.form_data.postal_code">
                <option selected value = "">Select address</option>
                <option ng-repeat = "code in CC.merged_contact" value = "{{code.postal_code}}">
                    {{code.postal_code }}
                </option>
            </select>
            {{ CC.form_data.postal_code }}
        </div>
    </div>
    <button type="button" 
        ng-click = "CC.mergeProcess()">
        Submit
    </button>
    {{ CC.form_data }}
</div>